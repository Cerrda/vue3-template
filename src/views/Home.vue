<script setup>
import CountTo from '@/components/CountTo.vue'
import SvgIcon from '@/components/SvgIcon.vue'
import { queryMysqlAPI, queryMiddleAPI, exportAPI } from '@/utils/api.js'
import { ref } from 'vue'

// æµ‹è¯•queryMysqlå’ŒqueryMiddleï¼Œéœ€è¦213çš„sid
async function query() {
  const res = await queryMysqlAPI()
  console.log('ğŸš€ ~ res:', res)

  const res1 = await queryMiddleAPI()
  console.log('ğŸš€ ~ res1:', res1)
}
query()
// æµ‹è¯•CountToç»„ä»¶
const number = ref()
setInterval(() => {
  number.value = Math.floor(Math.random() * 1000)
}, 1000)
// æµ‹è¯•wavesæŒ‡ä»¤
const active = ref(0)
// æµ‹è¯•å¯¼å‡ºæ¥å£
exportAPI()
</script>

<template>
  <SvgIcon name="cell"></SvgIcon>
  <!-- gapæ˜¯åœ¨è®¾è®¡ç¨¿ä¸­å•ä¸ªæ•°å­—å®½åº¦çš„pxæ•°ã€‚å¦‚æœä¼ å…¥çš„numberæ˜¯å°æ•°ä¼šè‡ªåŠ¨ä¿ç•™ä¸¤ä½å¤„ç† -->
  <CountTo class="count-to" :number="number" gap="14"></CountTo>
  <div class="list">
    <div
      v-for="item in 5"
      :key="item"
      class="item"
      :class="{ active: item - 1 === active }"
      v-waves="['linear-gradient(219.31deg, #0ef 0%, #07f 100%)', 'keep', 'list1']"></div>
  </div>
  <div class="list">
    <div
      v-for="item in 5"
      :key="item"
      class="item"
      :class="{ active: item - 1 === active }"
      v-waves="['linear-gradient(219.31deg, #0ef 0%, #07f 100%)', 'keep', 'list2']"></div>
  </div>
  <div class="list">
    <div
      v-for="item in 5"
      :key="item"
      class="item special"
      :class="{ active: item - 1 === active }"
      v-waves="['#ffffff50']">
      æŒ‰é’®
    </div>
  </div>
</template>

<style scoped lang="scss">
.count-to {
  font-size: 24px;
}
.list {
  display: flex;
  gap: 10px;
  padding: 20px;
  cursor: pointer;
  div {
    border: 1px solid pink;
    width: 40px;
    height: 40px;
  }
  .special {
    display: flex;
    justify-content: center;
    align-items: center;
    border: none;
    border-radius: 10px;
    padding: 10px 20px;
    width: 60px;
    background-color: #10b981;
    color: #fff;
  }
}
</style>
